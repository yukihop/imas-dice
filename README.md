# モバマス実録ダイスゲーム

## ビルド方法

HTMLプロジェクトですが、JavaScriptやHTMLを直接手書きするのは大変なので様々な中間言語を使っており、コンパイルするために node.js というプログラム実行環境が必要です。

Linux/Windows共通。Macでも多分同じように作れるはずです。

- Gitを使ってリポジトリをどこかにクローンする。
- [node.js](http://nodejs.org/)をインストールする。以降はシェル/コマンドプロンプトで作業。
- ``npm install -g grunt-cli`` する（管理者権限が必要）。grunt（ビルドソフト）がインストールされる。
- （オプション）``jade``, ``less``, ``typescript`` も同様に `npm -g jade` のようにしてインストールし、コマンドラインとして使えるようにしておくと良い。
- リポジトリのルート ( package.json がある場所 )にカレントディレクトリを移動し、 ``npm install`` する。依存するライブラリが色々入る。
- ``grunt`` する。``*.ts``, ``*.less``, ``*.jade`` ファイルからそれぞれJavaScript、CSS、HTMLファイルが生成されれば成功。

## テスト方法

ルートに生成された ``index.html`` を（HTTPを経由せず）直接ブラウザで開いても、エラーとなり実行できません。
これはブラウザのセキュリティ制限（JavaScriptからローカルファイルにアクセスできない）です。
コマンドラインオプションを付けてブラウザを起動することでこれを回避する手段もありますが、お勧めしません。

代わりにテスト用のローカルウェブサーバを立ててテストする必要があります。
現時点では静的ファイルの配信さえできればいいので、Apacheでも何でも動きます。
一番簡単な方法は node.js のウェブサーバモジュールを利用することです。

    npm install -g http-server
    cd /path/to/the/repository
    http-server .

この後で [http://localhost:8080/](http://localhost:8080/) にアクセスすればテストが行えます。